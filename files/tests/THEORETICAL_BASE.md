##Theoretical basis

Немного базовой теории, перед тем, как переходить к практике. Каким основным принципам нужно следовать в написании тестов для вашего проекта, как не выстрелить себе в ногу тестируя проект и что нужно покрывать тестами, а где уже нужно остановиться?

**Модульное тестирование** (*Unit testing*) - процесс, позволяющий проверить на корректность отдельные модули исходного кода программы. **Идея** состоит в том, чтобы писать тесты для каждой нетривиальной функции или метода. Это позволяет достаточно быстро проверить, не привело ли очередное изменение кода к регрессии, то есть к появлению ошибок в уже оттестированных местах программы, а также облегчает обнаружение и устранение таких ошибок.

Что бы понять, почему мы начинаем знакомство с тестированием, именно с модульного тестирования - приведу наглядный рисунок **пирамиды тестирования** (в реалиях веба).

![Testing pyramid](https://i.imgur.com/ANgptPn.png)

Таким образом, юнит-тестирование – это первый бастион в борьбе программиста с багами и плохим кодом. Который позволяет за более короткое время (по сравнению с другими) получить ощутимый результат.

### У тестов есть несколько назначений:

1. Доказательство корректности - дает уверенность, что ваша программа работает, как задумано. Предотвращение регрессии кода.
2. Документирующая - показывает ожидаемый сценарий использования метода, пример употребления сигнатуры. Дает возможность лучше разбираться в коде.
3. Демонстрационная - показывает примеры использования данной функции, ее работу.
4. Диагностирущая - позволяет определить, где ошибка в коде.

### Что должны делать ваши тесты?

Для того чтобы темная сторона кода не взяла верх, нужно придерживаться следующих основных правил.

Ваши модульные тесты должны:

1. Легко читаться и быть простыми для понимания, поддержания (даже новый разработчик должен понять, что именно тестируется).
2. Один тест должен тестировать ровно одну вещь (если мы видим, что тест включает в себя совершенно независимые проверки - лучше разбить его на два более простых и наглядных).
3. Соблюдать единую конвенцию именования, а также качество кода (на него также должны распространяться лучшие практики написания кода, как SOLID, DRY, KISS, etc.). Также избегать применения логики в тестах.
4. Работать в изоляции, означающей подмену всех зависимостей тестируемого модуля на муляжи (**[fakes: stubs & mocks](./STABS_AND_MOCKS.md)**). Отсюда следует, что из этого процесса намеренно исключаются реальные вызовы любых внешних зависимостей модуля, будь то другие модули приложения, сторонние библиотеки или отправка реальных сетевых запросов, переходы на другую страницу в браузере.
5. Поддерживаться в актуальном состоянии и запускаться на регулярной основе в автоматическом режиме.

### Что нужно проверять модульными тестами?

1. Просто проверить вызов функции с определенным аргументом.
2. Возможность создания экземпляра класса.
3. Корректность или тип возвращаемого значения
4. Корректность работы при
  - Ожидаемом типе аргументов
  - Неожиданном типе входных аргументов
  - Ожидаемом диапазоне входных аргументов
  - Диапазоне аргументов, выше ожидаемого
  - Граничных значениях входных аргументов
  - Проброс исключений

### [Методологии в тестировании?](./TESTING_METHODOLOGIES.md)

Независимое мнение, **"как писать тесты" гораздо важнее, чем "когда это делать"**. По этому - материал по методологиям представлен здесь для расширения вашего понимания в вопросах тестирования. Тут нет призыва сразу становиться адептом этих методологий и моментально переходить на них, можно достаточно быстро закопаться, сильно просесть в скорости написания кода, перегореть и т.д. Но для расширения своих знаний в области тестирования или же если вы решите выйти на новый уровень в разработке кода, выйти из зоны комфорта, думаю, эти методологии могут вам в этом помочь. Более подробный материал [здесь](./TESTING_METHODOLOGIES.md).
